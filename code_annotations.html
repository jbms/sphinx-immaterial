

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="_static/favicon.ico">
    
    
      
        <title>Code Annotations - Sphinx-Immaterial</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="_static/sphinx_immaterial_theme.3c111fe932309d4fc.min.css?v=47bc3a47" />
        <link rel="stylesheet" type="text/css" href="_static/extra_css.css?v=f9ade0d0" />
        <link rel="stylesheet" type="text/css" href="_static/custom_font_example.css?v=520ac564" />
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#directive-code-annotations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
  <p>
    Now includes
    <a href="https://squidfunk.github.io/mkdocs-material/changelog/">changes from mkdocs-material theme</a>
    v8.5.6
  </p>

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Sphinx-Immaterial" class="md-header__button md-logo" aria-label="Sphinx-Immaterial" data-md-component="logo">
      <img src="_static/Ybin.gif" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sphinx-Immaterial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code Annotations
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jbms/sphinx-immaterial/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Sphinx-Immaterial
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Sphinx-Immaterial" class="md-nav__button md-logo" aria-label="Sphinx-Immaterial" data-md-component="logo">
      <img src="_static/Ybin.gif" alt="logo">
    </a>
    Sphinx-Immaterial
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jbms/sphinx-immaterial/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Sphinx-Immaterial
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="customization.html" class="md-nav__link">
        <span class="md-ellipsis">Customization</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="admonitions.html" class="md-nav__link">
        <span class="md-ellipsis">Admonitions</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="content_tabs.html" class="md-nav__link">
        <span class="md-ellipsis">Content tabs</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="task_lists.html" class="md-nav__link">
        <span class="md-ellipsis">Task Lists</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="keys.html" class="md-nav__link">
        <span class="md-ellipsis">Keys extension</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6">
          <span class="md-ellipsis">Code Blocks</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code Blocks" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Code Blocks</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="code_syntax_highlighting.html" class="md-nav__link">
        <span class="md-ellipsis">Code syntax highlighting</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Code Annotations</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Code Annotations</span>
      </a>
      
        

  

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      <span class="md-ellipsis">Code Annotations</span>
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#directive-code-annotations" class="md-nav__link">
    <span aria-label="reStructuredText directive" class="objinfo-icon objinfo-icon__data" title="reStructuredText directive">D</span><span title="code-annotations (reStructuredText directive)" class="md-ellipsis">..<wbr> code-<wbr>annotations::<wbr></span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-annotations" class="md-nav__link">
    <span class="md-ellipsis">Using annotations</span>
  </a>
  
    <nav class="md-nav" aria-label="Using annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arbitrary-list-markers" class="md-nav__link">
    <span class="md-ellipsis">Arbitrary list markers</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hiding-the-annotated-comment" class="md-nav__link">
    <span class="md-ellipsis">Hiding the annotated comment</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-tooltip-width" class="md-nav__link">
    <span class="md-ellipsis">Custom tooltip width</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotation-buttons-with-numbers" class="md-nav__link">
    <span class="md-ellipsis">Annotation buttons with numbers</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7">
          <span class="md-ellipsis">API documentation customization</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API documentation customization" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">API documentation customization</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/index.html" class="md-nav__link">
        <span class="md-ellipsis">General API customization</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/format_signatures.html" class="md-nav__link">
        <span class="md-ellipsis">Formatting signatures</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/python/index.html" class="md-nav__link">
        <span class="md-ellipsis">Python domain customization</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/python/apigen.html" class="md-nav__link">
        <span class="md-ellipsis">Python API documentation generation</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/cpp/index.html" class="md-nav__link">
        <span class="md-ellipsis">C++ domain customization</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/cpp/external_cpp_references.html" class="md-nav__link">
        <span class="md-ellipsis">External C++ symbol links</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/cpp/cppreference.html" class="md-nav__link">
        <span class="md-ellipsis">Automatic cross-<wbr>linking to cppreference.<wbr>com</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/cpp/apigen.html" class="md-nav__link">
        <span class="md-ellipsis">C++ API documentation generation</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="apidoc/json/domain.html" class="md-nav__link">
        <span class="md-ellipsis">JSON domain</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="inline_icons.html" class="md-nav__link">
        <span class="md-ellipsis">Inline icons</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9">
          <span class="md-ellipsis">Diagrams/graphs</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Diagrams/graphs" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Diagrams/graphs</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="graphviz.html" class="md-nav__link">
        <span class="md-ellipsis">Graphviz</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="mermaid_diagrams.html" class="md-nav__link">
        <span class="md-ellipsis">Mermaid diagrams</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      
      
        <label class="md-nav__link" for="__nav_10">
          <span class="md-ellipsis">Examples and Uses</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples and Uses" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Examples and Uses</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo_api.html" class="md-nav__link">
        <span class="md-ellipsis">sample API documentation and generated content</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="python_apigen_demo.html" class="md-nav__link">
        <span class="md-ellipsis">python_<wbr>apigen demo</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="cpp_apigen_demo.html" class="md-nav__link">
        <span class="md-ellipsis">cpp_<wbr>apigen demo</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="specimen.html" class="md-nav__link">
        <span class="md-ellipsis">Specimen</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="rst_basics.html" class="md-nav__link">
        <span class="md-ellipsis">re<wbr>Structured<wbr>Text Primer</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="rst-cheatsheet/rst-cheatsheet.html" class="md-nav__link">
        <span class="md-ellipsis">rst Cheatsheet</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="additional_samples.html" class="md-nav__link">
        <span class="md-ellipsis">Additional Samples</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="myst_typography.html" class="md-nav__link">
        <span class="md-ellipsis">My<wbr>ST Mark<wbr>Down Typography</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      <span class="md-ellipsis">Code Annotations</span>
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#directive-code-annotations" class="md-nav__link">
    <span aria-label="reStructuredText directive" class="objinfo-icon objinfo-icon__data" title="reStructuredText directive">D</span><span title="code-annotations (reStructuredText directive)" class="md-ellipsis">..<wbr> code-<wbr>annotations::<wbr></span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-annotations" class="md-nav__link">
    <span class="md-ellipsis">Using annotations</span>
  </a>
  
    <nav class="md-nav" aria-label="Using annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arbitrary-list-markers" class="md-nav__link">
    <span class="md-ellipsis">Arbitrary list markers</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hiding-the-annotated-comment" class="md-nav__link">
    <span class="md-ellipsis">Hiding the annotated comment</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-tooltip-width" class="md-nav__link">
    <span class="md-ellipsis">Custom tooltip width</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotation-buttons-with-numbers" class="md-nav__link">
    <span class="md-ellipsis">Annotation buttons with numbers</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


  <a href="https://github.com/jbms/sphinx-immaterial/blob/main/docs/code_annotations.rst" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
  </a>

<h1 id="code-annotations">Code Annotations<a class="headerlink" href="#code-annotations" title="Link to this heading">¶</a></h1>
<p>A special directive was created to make use of the mkdocs-material theme’s
<a class="reference external" href="https://squidfunk.github.io/mkdocs-material/reference/code-blocks/#adding-annotations">Code Annotations</a>
feature.</p>
<dl class="rst directive objdesc">
<dt class="sig sig-object highlight rst" id="directive-code-annotations">
<span class="sig-name descname"><span class="pre">..</span> <span class="pre">code-annotations::</span></span><a class="headerlink" href="#directive-code-annotations" title="Link to this definition">¶</a></dt>
<dd><p>This directive shall hold an <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#enumerated-lists">enumerated list</a> of annotations that can be used in a
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a> immediately prior to this directive. The given list will not be rendered in the
generated output, unless there is no immediately prior <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a> to annotate or there are no
annotated comments in the immediately prior <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a>. Additionally, all annotations will be
excluded when using the “copy to clipboard” button for an annotated <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a>; the annotated
comments’ text will still be copied (if not <a class="reference internal" href="#hiding-the-annotated-comment">Hiding the annotated comment</a>).</p>
<p>An error will be shown in the build log if the given list is not recognized as an
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#enumerated-lists">enumerated list</a>.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>When using this directive, the <code class="code highlight python docutils literal highlight-python"><span class="s2">&quot;content.code.annotate&quot;</span></code> does not need to be
specified in the <a class="reference internal" href="customization.html#themeconf-features" title="features (theme configuration option) — Some features that have been ported from the mkdocs-material theme and can be enabled by specifying the feature's name in a list of strings."><code class="xref std std-themeconf docutils literal notranslate"><span class="pre">features</span></code></a> list.</p>
</div>
</dd></dl>

<h2 id="using-annotations">Using annotations<a class="headerlink" href="#using-annotations" title="Link to this heading">¶</a></h2>
<p>Each annotation in the code snippet should be a comment containing the identifying number in
parentheses (<code class="docutils literal notranslate"><span class="pre">(1)</span></code>) that corresponds to the sequential order of annotations specified in the
list of <a class="reference internal" href="#directive-code-annotations" title="code-annotations directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-annotations</span></code></a>.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Remember to specify the language syntax for pygments to highlight the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a>. Without
this information, pygments may incorrectly identify comments in a <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a> which is
required for the detection of annotations.</p>
</div>
<div class="hint admonition">
<p class="admonition-title">Hint</p>
<p>All annotations are hyperlinked. This means you can right click the annotation’s button and
open it as a link in a new tab (or copy the link to share it).</p>
</div>
<div class="results docutils container">
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption highlight"><span class="filename"><span class="caption-text">
</span>Example of code annotations<a class="headerlink" href="#id2" title="Permalink to this code">¶</a></span></div>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">python</span>

    <span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;features&quot;</span> <span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;content.code.annotate&quot;</span>  <span class="c1"># (1)</span>
        <span class="p">],</span>
    <span class="p">}</span>

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">1.</span> .. admonition:: Obsolete
           <span class="nc">:class:</span> failure

           This has no special effect because the <span class="na">:rst:dir:</span><span class="nv">`code-annotations`</span> directive
           automatically enables the feature.
</code></pre></div>
</div>
</div>
<div class="result docutils container">
<div class="highlight-python notranslate"><div class="annotate highlight"><pre><span></span><code><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;features&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;content.code.annotate&quot;</span>  <span class="c1"># (1)</span>
    <span class="p">],</span>
<span class="p">}</span>
</code></pre></div>
<ol class="arabic">
<li><div class="failure admonition">
<p class="admonition-title">Obsolete</p>
<p>This has no special effect because the <a class="reference internal" href="#directive-code-annotations" title="code-annotations directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-annotations</span></code></a> directive
automatically enables the feature.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<h3 id="arbitrary-list-markers">Arbitrary list markers<a class="headerlink" href="#arbitrary-list-markers" title="Link to this heading">¶</a></h3>
<p>The <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#enumerated-lists">enumerated lists’</a> markers are arbitrary and do not directly
correspond to the identifying numbers used in the annotated comment. Because of this arbitrariness,
the identifying numbers in the annotated comments <strong>must always start counting from</strong> <code class="docutils literal notranslate"><span class="pre">1</span></code> (for
each <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a>). Remember, the <code class="docutils literal notranslate"><span class="pre">#</span></code> character can be used instead of numbers/letters in the
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#enumerated-lists">enumerated lists’</a> markers.</p>
<p>The below example demonstrates this arbitrariness as the annotated comment <code class="docutils literal notranslate"><span class="pre">(1)</span></code> corresponds to
the first annotated list item (beginning with the marker <code class="docutils literal notranslate"><span class="pre">3.</span></code>).</p>
<div class="results docutils container">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">cpp</span>

    <span class="c1">// What can I put in an annotation? (1)</span>
    <span class="cm">/* What about nested lists and emojis? (2) */</span>

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">3.</span> These annotations can have anything that Sphinx supports (including extensions).

<span class="p">       ..</span> <span class="ow">graphviz</span><span class="p">::</span>

           digraph { A -&gt; B }
<span class="p">       ..</span> <span class="ow">image</span><span class="p">::</span> desert-flower.jpg
           <span class="nc">:width:</span> 75%
    <span class="m">#.</span> Indentation for lists&#39; items that span multiple lines can be tricky in
       reStructuredText.

       <span class="m">0.</span> First item in a nested list that starts with <span class="s">``0``</span>.
       <span class="m">#.</span> Checkout the <span class="s">`sphinxemoji </span><span class="si">&lt;https://sphinxemojicodes.rtfd.io&gt;</span><span class="s">`_</span> extension to
          put emojis here.
</code></pre></div>
</div>
<div class="result docutils container">
<div class="highlight-cpp notranslate"><div class="annotate highlight"><pre><span></span><code><span class="c1">// What can I put in an annotation? (1)</span>
<span class="cm">/* What about nested lists and emojis? (2) */</span>
</code></pre></div>
<ol class="arabic" start="3">
<li><p>These annotations can have anything that Sphinx supports (including extensions).</p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.00 0.00 62.00 116.00" class="graphviz" style="width: 3.875rem;height: 7.25rem;">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>%3</title>

<g id="node1" class="node">
<title>A</title>
<ellipse cx="27" cy="-90" rx="27" ry="18" style="fill: var(--md-graphviz-node-bg-color);stroke: var(--md-graphviz-node-fg-color);" />
<text text-anchor="middle" x="27" y="-86.2" font-family="Roboto" font-size="12.00" style="fill: var(--md-code-fg-color);">A</text>
</g>

<g id="node2" class="node">
<title>B</title>
<ellipse cx="27" cy="-18" rx="27" ry="18" style="fill: var(--md-graphviz-node-bg-color);stroke: var(--md-graphviz-node-fg-color);" />
<text text-anchor="middle" x="27" y="-14.2" font-family="Roboto" font-size="12.00" style="fill: var(--md-code-fg-color);">B</text>
</g>

<g id="edge1" class="edge">
<title>A-&gt;B</title>
<path fill="none" d="M27,-71.7C27,-63.98 27,-54.71 27,-46.11" style="stroke: var(--md-graphviz-edge-color);" />
<polygon points="30.5,-46.1 27,-36.1 23.5,-46.1 30.5,-46.1" style="fill: var(--md-graphviz-edge-color);stroke: var(--md-graphviz-edge-color);" />
</g>
</g>
</svg><a class="reference internal image-reference" href="_images/desert-flower.jpg"><img alt="_images/desert-flower.jpg" src="_images/desert-flower.jpg" style="width: 75%;" /></a>
</li>
<li><p>Indentation for lists’ items that span multiple lines can be tricky in
reStructuredText.</p>
<ol class="arabic simple" start="0">
<li><p>First item in a nested list that starts with <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p>Checkout the <a class="reference external" href="https://sphinxemojicodes.rtfd.io">sphinxemoji</a> extension to
put emojis here.</p></li>
</ol>
</li>
</ol>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>Using the same identifying number to annotate multiple comments will essentially turn all but
the last button into hyperlinks that target to the last button.</p>
<div class="results docutils container">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">lua</span>

    <span class="c1">-- (1) some text, and (1)</span>

    <span class="kd">local</span> <span class="n">var_name</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">-- (1)</span>

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">#.</span> Should&#39;ve used <span class="na">:duref:</span><span class="nv">`footnotes &lt;footnotes&gt;`</span> instead.
</code></pre></div>
</div>
<div class="result docutils container">
<div class="highlight-lua notranslate"><div class="annotate highlight"><pre><span></span><code><span class="c1">-- (1) some text, and (1)</span>

<span class="kd">local</span> <span class="n">var_name</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">-- (1)</span>
</code></pre></div>
<ol class="arabic simple">
<li><p>Should’ve used <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#footnotes">footnotes</a> instead.</p></li>
</ol>
</div>
</div>
</div>
</div>
<h3 id="hiding-the-annotated-comment">Hiding the annotated comment<a class="headerlink" href="#hiding-the-annotated-comment" title="Link to this heading">¶</a></h3>
<p>The annotated comment can be hidden in the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v7.3.0)"><code class="xref any docutils literal notranslate"><span class="pre">code-block</span></code></a> if the annotation’s identifying number
ends with a exclamation mark (<code class="docutils literal notranslate"><span class="pre">!</span></code>) after the closing parenthesis.</p>
<div class="results docutils container">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> cmake
    <span class="nc">:caption:</span> Erroneous example!
    <span class="nc">:linenos:</span>

    # (1)! remove me

    # (2)! (3) remove me

    # (4) some text   (5)! remove me

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">1.</span> I&#39;m the first annotation.
    <span class="m">2.</span> I&#39;m the second annotation.
    <span class="m">3.</span> Nothing to see here because it won&#39;t be rendered.
    <span class="m">4.</span> I&#39;m the forth annotation.
    <span class="m">5.</span> I&#39;m the fifth annotation.
</code></pre></div>
</div>
<div class="result docutils container">
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption highlight"><span class="filename"><span class="caption-text">
</span>Erroneous example!<a class="headerlink" href="#id3" title="Permalink to this code">¶</a></span></div>
<div class="highlight-cmake notranslate"><div class="annotate highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c"># (1)! remove me</span>

<span class="c"># (2)! (3) remove me</span>

<span class="c"># (4) some text   (5)! remove me</span>
</code></pre></div></td></tr></table></div>
<ol class="arabic simple">
<li><p>I’m the first annotation.</p></li>
<li><p>I’m the second annotation.</p></li>
<li><p>Nothing to see here because it won’t be rendered.</p></li>
<li><p>I’m the forth annotation.</p></li>
<li><p>I’m the fifth annotation.</p></li>
</ol>
</div>
</div>
</div>
</div>
<div class="bug admonition">
<p class="admonition-title">Limitations</p>
<p>For technical reasons, this hiding mechanism will only work with 1 annotation per code comment.
In the above example, you should notice that, on line 3, the third annotation is removed
because the second annotation has the <code class="docutils literal notranslate"><span class="pre">!</span></code> appended in the comment. And all text is removed
from the third comment, on line 5, because the fifth annotation has the <code class="docutils literal notranslate"><span class="pre">!</span></code> appended to it.</p>
</div>
<h3 id="custom-tooltip-width">Custom tooltip width<a class="headerlink" href="#custom-tooltip-width" title="Link to this heading">¶</a></h3>
<p>For annotations with an excess of content,it might be desirable to change the width of the
annotations’ tooltip using by changing the following CSS variable:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><code><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">--md-tooltip-width</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>With the above CSS changes, a tooltip would be rendered like so:</p>
<div class="very-large-tooltip results docutils container">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">yaml</span>

    <span class="c1"># (1)!</span>

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">1.</span> Muuuuuuuuuuuuuuuuuuuuuuuuuuuuch more space!
</code></pre></div>
</div>
<div class="result docutils container">
<div class="highlight-yaml notranslate"><div class="annotate highlight"><pre><span></span><code><span class="c1"># (1)!</span>
</code></pre></div>
<ol class="arabic simple">
<li><p>Muuuuuuuuuuuuuuuuuuuuuuuuuuuuch more space!</p></li>
</ol>
</div>
</div>
</div>
<h3 id="annotation-buttons-with-numbers">Annotation buttons with numbers<a class="headerlink" href="#annotation-buttons-with-numbers" title="Link to this heading">¶</a></h3>
<p>The mkdocs-material legacy behavior was to use the annotated comment’s identifying number in the
button that was rendered. However, this behavior was removed because annotated comment’s
identifying number is arbitrary to the annotated list item’s numeric marker – see example snippet
in <a class="reference internal" href="#arbitrary-list-markers">Arbitrary list markers</a>.</p>
<p>To enable this legacy behavior, use the following custom CSS rules:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">md-annotation__index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">::</span><span class="nd">before</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">content</span><span class="p">:</span><span class="w"> </span><span class="nb">attr</span><span class="p">(</span><span class="n">data</span><span class="nv">-md-annotation-id</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">:</span><span class="nd">focus-within</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">md-annotation__index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">::</span><span class="nd">before</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>Using the above CSS would render annotations like so:</p>
<div class="annotated-with-numbers results docutils container">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><code><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">python</span>

    <span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>  <span class="c1"># (1)!</span>
    <span class="w">    </span><span class="sd">&quot;&quot;&quot;A doc string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">param</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># (2)!</span>

<span class="p">..</span> <span class="ow">code-annotations</span><span class="p">::</span>
    <span class="m">1.</span> Data goes in here.
    <span class="m">2.</span> Data comes out here.
</code></pre></div>
</div>
<div class="result docutils container">
<div class="highlight-python notranslate"><div class="annotate highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>  <span class="c1"># (1)!</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A doc string.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">param</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># (2)!</span>
</code></pre></div>
<ol class="arabic simple">
<li><p>Data goes in here.</p></li>
<li><p>Data comes out here.</p></li>
</ol>
</div>
</div>
</div>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      Apr 16, 2024
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="code_syntax_highlighting.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Code syntax highlighting" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Code syntax highlighting
            </div>
          </div>
        </a>
      
      
        
        <a href="apidoc/index.html" class="md-footer__link md-footer__link--next" aria-label="Next: General API customization" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              General API customization
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2021 The Sphinx-Immaterial Authors.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.2.6.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/jbms/sphinx-immaterial" target="_blank" rel="noopener" title="Source on github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://pypi.org/project/sphinx-immaterial/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.expand", "navigation.sections", "navigation.top", "search.share", "toc.follow", "toc.sticky", "content.tabs.link", "announce.dismiss"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": [{"aliases": [], "title": "ReadTheDocs", "version": "https://sphinx-immaterial.rtfd.io"}, {"aliases": [], "title": "Github Pages", "version": "https://jbms.github.io/sphinx-immaterial"}], "versionPath": null}}</script>
    
      
        <script src="_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=9a299579"></script>
    
  </body>
</html>